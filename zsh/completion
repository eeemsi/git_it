# Initialize completion
autoload compinit
compinit -C

# Complete even within a word
setopt COMPLETE_IN_WORD

# Use the cache
zstyle ':completion::complete:*' use-cache on
zstyle ':completion:*' cache-path ${HOME}/.zsh/zsh-cache

# Offers menu when > selected elements appear
zstyle ':completion:*' menu select=2

# List of completers to use
zstyle ':completion:*::::' completer _oldlist _expand _force_rehash _complete _ignored

# Match uppercase from lowercase
zstyle ':completion:*' matcher-list 'm:{a-z}={A-Z}'

# Show all processes when completing kill/killall and enable menu mode
zstyle ':completion:*:processes' command 'ps -ax'
zstyle ':completion:*:processes-names' command 'ps -aeo comm='
zstyle ':completion:*:*:kill:*:processes' list-colors '=(#b) #([0-9]#)*=0=01;31' menu yes select
zstyle ':completion:*:*:killall:*:processes' list-colors '=(#b) #([0-9]#)*=0=01;31' menu yes select

# Separate matches into groups and highlight them
zstyle ':completion:*:matches'         group 'yes'
zstyle ':completion:*'                 group-name ''
zstyle ':completion:*:descriptions'    format $'%{\e[0;31m%}completing %B%d%b%{\e[0m%}'

# Skip the following files while completing
fignore=(.o .a .la .lo .swp .pyc .pyo)
